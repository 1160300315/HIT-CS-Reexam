# Linux 基础

## 用户管理 & 文件管理

1. 创建用户：`useradd 用户名`
2. 删除用户：`userdel 用户名`
3. 修改密码：`passwd 用户名`
4. 切换用户：`su 用户名`
5. 改变文件权限：`chmod`
6. 改变文件所有者：`chown`
   
## 实用程序和常用操作

1. 目录/文件操作：
   - 创建目录：`mkdir`
   - 删除目录：`rmdir -ri`
   - 创建文件：`touch filename`
   - 删除文件：`rm filename`
   - 复制文件：`cp filename1[,filename2] directory`
   - 移动文件：`mv filename1[,filename2] directory`
   - 重命名文件：`mv oldName newName`/`rename old new`

2. 查看文件内容：
   1. `ls`
       - `-l` 以长格式查看文件和目录
       - `-a` 显示所有文件和目录，包括隐藏文件 
       - `-R` 遇到目录递归展开
       - `-d` 只列出目录，不列出文件
       - `-t`/`-S` 以时间/大小排序
    2. 常用程序：
        - `cat`：显示简短文字。
       	- `less`：逐页查看。
	- `more`：逐行查看，按回车显示下一行。
	- `head -nlines`：显示前 n 行。
	- `tail -nlines`：显示后 n 行。
	
3. 查找文件/文本：
    - 查找文件：`find 目录 -name 文件名`，文件名允许使用通配符。
    - 查找文本：`grep 字符串 目标文件`，字符串接受正则表达式。

4. 创建链接：`ln -s 文件名 链接名`
5. 压缩/解压缩：
    - 压缩若干个文件，生成压缩文件的默认后缀为`.gz`：`gzip 文件1 文件2`
    - 解压缩：`gunzip 压缩文件名`
6. 归档/解归档：
    - 归档：`tar -cvf 文件1 文件2`，c 表示创建，v 表示详情，f 表示指定归档的文件。
    - 解归档：`tar -xvf 归档文件`，x 表示抽取。

7. 管道使用：
   - 列出当前路径下的文件和文件夹，并给每一项加一个编号：`ls | cat  -n`
   - 查找文件中包含字符串 AAA 但不包含 BBB 的记录的个数：`cat 文件名 | grep AAA | grep -v BBB | wc -l`

8. 别名：`alias ll='ls -l'`、`unalias ll`
9. 文本处理器：awk
   - 显示文件的某一行：`awk 'NR==3' test.txt`
   - 显示文件的某一列：`awk '{print $3} test.txt'`

## Vim

1. **三个模式：**
   - **命令模式**：进入 Vim 的模式模式，不能编辑只能查看。
   - **编辑模式**：在命令模式下输入 `i` 进入编辑模式，在编辑模式下输入 `Esc` 会进入命令模式。
   - **末行模式**： 在命令模式下输入 `:` 会进入末行模式，
     - 在末行模式下，输入 `wq`会保存并退出；
     - 在末行模式下，输入 `q!` 会强制退出，不保存；
     - 在末行模式下，输入 `w` 会写入

2. **光标操作：**
   - 输入 `G` 将光标移动到文件末尾行行首；
   - 输入 `10G` 将光标移动到第 10 行行首；
   - 输入 `gg` 将光标移动到文件开始处。

3. **文本编辑：**
   - 删除：
     - `dd` 删除当前行；
     - `10dd` 删除第 10 行；
     - `d$` 从光标处删除到行尾；
     - `d0` 从光标处删除到行首；
     - `dw` 从光标处删除到当前单词结束。
   - 复制：`yy` 复制当前行，`10yy` 复制第 10 行，`yw` 从当前位置复制到当前单词结束。
   - 粘贴：`p`。
   - 撤销：`u`。
   - 恢复：`Ctrl + r`。

4. **查找：**
   - 普通方法：输入 `/` 或 `?` 进入末行搜索模式，并提供正则表达式来匹配与之对应的内容，按回车搜索，然后输入 `n` 向前搜索上一个匹配，输入 `N` 来向后搜索下一个匹配。另外，加上 `\c` 表示大小写不敏感，`\C` 表示敏感(默认)。
   - 快捷方法：让光标停留在要搜索的单词上，按下 `shift + *` 即可快速搜索该单词，同样使用 `n/N` 查看上一个/下一个匹配。
5. **替换**：`:{范围}s/目标/替换/标志`，例如 `:%s/foo/bar/gic` 会在 **全局范围(%)** 查找字符串 `foo`，并替换为 `bar`，且所有出现都被替换(`g`)，忽略大小写(`i`)，需要确认(`c`)。
6. **比较多个文件**：`vi -d file1 file2`